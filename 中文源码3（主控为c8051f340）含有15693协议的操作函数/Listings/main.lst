C51 COMPILER V9.56.0.0   MAIN                                                              11/17/2018 14:25:59 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          /*************************************************************************************************
   2          * ?? ?? ????MAIN.C
   3          * ??    ???RFID?????TRF7960????????????????????
   4          *
   5          * ?    ???? TRF7960??C8051F340?????????????????????SPI???????PAR????              
   6          *                       
   7          * ??    ???EMDOOR
   8          * ??    ???2011-9-29
   9          ***************************************************************************************************/
  10          #include <c8051f340.h>                            //???????????????
  11          #include <host.h>
  12          #include <hardware.h>
  13          #include <automatic.h>
  14          #include <communicate.h>
  15          #include <globals.h>                         
  16          char     rxdata;                                    //RS232 ???????????
  17          xdata    unsigned char buf[BUF_LENGTH];             //????MSP430?????????TRF7960???????????
  18          signed   char RXTXstate;                            //???³²????????????????
  19          unsigned char flags;                                //????›¥???¦Ë(??????????)
  20          unsigned char RXErrorFlag;                          //????????????
  21          unsigned char RXflag;                               //???????????¦Ë?????????????????????????
  22          unsigned char i_reg;                                //?§Ø?????????
  23          unsigned char CollPoss;                             //??????????¦Ë?????
  24          
  25          /**************************************************************************************************
  26          * ?????????main()
  27          * ??    ?????????????
  28          * ??????????
  29          * ???????????
  30          * ?    ???????????????????§³?
  31          ****************************************************************************************************/
  32          void main(void)
  33          {
  34   1      //==================================================================================================
  35   1          PCA0MD   &= ~0x40;
  36   1          PCA0MD    = 0x00;   //???????
  37   1      //==================================================================================================  
  38   1          OSCsel();  //?????????
  39   1          PORT_Init();//???????????
  40   1          UART0_Init();  //?????????
  41   1         
  42   1       //????????????????????????
  43   1      /*=================================================================================================*/
  44   1          EnableSet(); //????????                                      
  45   1        TRFDisable(); //?????????  
  46   1        delay_ms(1);  
  47   1        TRFEnable();//????????   
  48   1        delay_ms(1);  
  49   1        IRQPinset();                //???IRQ?§Ø???
  50   1          IRQInit();
  51   1        
  52   1          SlaveSelectPortSet();       //c8051f340P0.3Slave Select????????
  53   1          H_SlaveSelect();            //Slave Select???(??)
  54   1          SIMOSet();          //????SIMO????
C51 COMPILER V9.56.0.0   MAIN                                                              11/17/2018 14:25:59 PAGE 2   

  55   1          SOMISIGNALSET();
  56   1        CLKPOUTset();       //???????????????
  57   1      
  58   1          TRFDisable();
  59   1        delay_ms(1);
  60   1          TRFEnable();
  61   1          delay_ms(1);
  62   1        
  63   1          InitialSettings();           //??????????????MSP430???????6.78MHz??OOK??????
  64   1          EnableInterrupts();          //??????§Ø?
  65   1          
  66   1          OOKdirIN();                  //????OOK???????????
  67   1          
  68   1          while(1)                                      
  69   1          { 
  70   2                                       //??????§¿????????
  71   2         FindTags();
  72   2          
  73   2          }
  74   1      }
  75          
  76          
  77          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     93    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    307    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

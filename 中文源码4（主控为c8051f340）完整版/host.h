/********************************************************************************************************************
* 文 件 名：HOST.C
* 功    能：串口相关的功能函数以及设置
*
* 作    者：EMDOOR
* 日    期：2011-9-29
*********************************************************************************************************************/
#ifndef HOST_H
#define HOST_H


#include <C8051F340.h>     	
#include <stdio.h>
#include "hardware.h"
#include <globals.h>

//unsigned char   Firstdata = 1;                      //设置串口同步标志位

#define BAUDRATE           115200      // UART波特率设置
#define SYSCLK             12000000    // 内部的晶振频率

/******************************************************************************************************************
* 函数名称：PORT_Init()
* 功    能：串口初始化设置函数
* 入口参数：无
* 出口参数：无   
*****************************0.**************************************************************************************/
void PORT_Init (void);
/******************************************************************************************************************
* 函数名称：UART0_Init
* 功    能：串口初始化设置函数
* 入口参数：无
* 出口参数：无
* 说    明：该串口初始化函数使用UART0。    
*******************************************************************************************************************/
void UART0_Init(void);


/******************************************************************************************************************
* 函数名称：sendchar()
* 功    能：向计算器上位机发送一个字符函数
* 入口参数：TXchar    将要被发送的字符
* 出口参数：无
* 说    明：无   
*******************************************************************************************************************/
sendchar(char TXchar);

/******************************************************************************************************************
* 函数名称：send_crlf()
* 功    能：向计算器上位机发送一个回车+换行符号
* 入口参数：无
* 出口参数：无
* 说    明：无   
*******************************************************************************************************************/
void send_crlf(void);

/******************************************************************************************************************
* 函数名称：send_cstring()
* 功    能：向计算器上位机发送一字符串
* 入口参数：*pstr       将要被发送的字符串
* 出口参数：无
* 说    明：无   
*******************************************************************************************************************/
void send_cstring(char *pstr);

/******************************************************************************************************************
* 函数名称：Nibble2Ascii()
* 功    能：半位字节转化成ASCII十六进制码
* 入口参数：anibble         将要被转换字节
* 出口参数：AsciiOut        转换后的ASCII十六进制码值
* 说    明：无   
*******************************************************************************************************************/
unsigned char Nibble2Ascii (unsigned char anibble);

/******************************************************************************************************************
* 函数名称：send_byte()
* 功    能：发送字节函数半位字节转化成ASCII十六进制码
* 入口参数：abyte         将要被发送字节
* 出口参数：无      
* 说    明：该函数调用两次Nibble2Ascii，将一个字节拆分成高低四位，先转换再次序发送。
*******************************************************************************************************************/
void send_byte(unsigned char abyte);



#endif

